/* eslint-disable no-undef */
import React from "react";
import { mount } from "enzyme";
import { Alert } from "..";

describe("Alert", () => {
  beforeAll(() => {
    jest.useFakeTimers();
  });

  afterAll(() => {
    jest.useRealTimers();
  });

  it("could be closed", () => {
    const onClose = jest.fn();
    const wrapper = mount(
      <Alert visible type="warning" onClose={onClose}>
        提示消息
      </Alert>
    );
    wrapper.find(".tea-icon-close").simulate("click");
    expect(onClose).toBeCalled();
    jest.runAllTimers();
  });
});
