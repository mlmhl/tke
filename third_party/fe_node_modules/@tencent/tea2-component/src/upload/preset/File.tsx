import React from "react";
import { useConfig } from "../../_util/config-context";
import { Input } from "../../input";

export interface FileProps {
  /**
   * 文件名
   */
  filename?: string;

  /**
   * 上传进度
   */
  percent?: number;

  /**
   * 按钮区域内容
   */
  button?: React.ReactNode;
}

export function File({ filename, percent, button }: FileProps) {
  const { classPrefix } = useConfig();
  return (
    <div className={`${classPrefix}-form-upload`}>
      <div className={`${classPrefix}-form-upload__inner`}>
        <Input readonly placeholder={filename} />
        {(percent || percent === 0) && (
          <span className={`${classPrefix}-form__help-text--inline`}>
            {Math.floor(percent)}%
          </span>
        )}
      </div>
      {button}
    </div>
  );
}
