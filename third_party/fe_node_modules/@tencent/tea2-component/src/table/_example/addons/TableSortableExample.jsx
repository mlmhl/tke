import React, { useState } from "react";
import { Table } from "@tencent/tea-component/lib/table";

const { sortable } = Table.addons;

const records = [
  { name: "Link", age: 20 },
  { name: "Zelda", age: 18 },
  { name: "Mario", age: 38 },
  { name: "Luigi", age: 48 },
];

export default function TableAddonExample() {
  // 当前排序列
  const [sorts, setSorts] = useState([]);

  return (
    <Table
      // 如果要在前端排序，可以用 sortable.comparer 生成默认的排序方法
      records={[...records].sort(sortable.comparer(sorts))}
      recordKey="name"
      columns={[
        { key: "name", header: "姓名" },
        { key: "age", header: "年龄" },
      ]}
      addons={[
        sortable({
          // 这两列支持排序，其中 age 列优先倒序
          columns: ["name", { key: "age", prefer: "desc" }],
          value: sorts,
          onChange: value => setSorts(value),
        }),
      ]}
    />
  );
}
